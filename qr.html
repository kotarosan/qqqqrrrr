<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRコードリーダー20</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>

<body>
    <script>
        liff
            .init({
                liffId: "1657178423-aBRkKEeb", // Use own liffId,
                withLoginOnExternalBrowser: true,

            })
            .then(() => {
                liff.scanCodeV2()
                    .then((result) => {
                        // result = { value: "" }
                        liff
                            .sendMessages([
                                {
                                    type: "text",
                                    text: "テストテキスト送信",
                                },
                            ]),
                            liff.closeWindow();
                            .then(() => {
                                //liff.closeWindow();
                                //window.alert('Error sending message: ' + error);
                            })
                            .catch((err) => {
                                window.alert('Error sending message: ' + error);
                            });
                    })
                    .catch((error) => {
                        window.alert('Error sending message: ' + error);
                    });
            })
    </script>
</body>

</html>
